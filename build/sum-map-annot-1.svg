<?xml version="1.0" ?><!-- Created with Inkscape (http://www.inkscape.org/) --><svg height="463.02159" id="svg8" inkscape:version="0.92.4 5da689c313, 2019-01-14" sodipodi:docname="sum-map-annot.svg" version="1.1" viewBox="0 0 795.55459 463.02159" width="795.55459" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs2"/>
  <sodipodi:namedview bordercolor="#666666" borderopacity="1.0" fit-margin-bottom="0" fit-margin-left="0" fit-margin-right="0" fit-margin-top="0" id="base" inkscape:current-layer="layer10" inkscape:cx="393.37685" inkscape:cy="258.37102" inkscape:document-units="px" inkscape:guide-bbox="true" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:snap-page="true" inkscape:window-height="1036" inkscape:window-maximized="0" inkscape:window-width="1246" inkscape:window-x="0" inkscape:window-y="20" inkscape:zoom="0.92841621" pagecolor="#ffffff" showborder="true" showgrid="false" showguides="true" units="px"/>
  <metadata id="metadata5">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g id="layer8" inkscape:groupmode="layer" inkscape:label="annot-9" style="display:none">
    <rect height="76.162689" id="rect1261" style="fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="272.28162" x="44.555176" y="263.47531"/>
  </g>
  <g id="layer7" inkscape:groupmode="layer" inkscape:label="annot-8" style="display:none">
    <rect height="77.551422" id="rect1140" style="fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="268.19867" x="44.161228" y="74.187347"/>
    <rect height="75.397217" id="rect1142" style="fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="274.66129" x="435.14966" y="73.110245"/>
  </g>
  <g id="layer6" inkscape:groupmode="layer" inkscape:label="annot-7" style="display:none">
    <rect height="25.850475" id="rect1134" style="display:inline;fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="translate(29.257849,-36.902435)" width="319.89963" x="7.3636565" y="88.470619"/>
    <rect height="25.850475" id="rect1132" style="display:inline;fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" transform="translate(29.257849,-36.902435)" width="366.86752" x="399.4292" y="88.470619"/>
  </g>
  <g id="layer10" inkscape:groupmode="layer" inkscape:label="annot-6" style="display:none">
    <rect height="26.927578" id="rect1273" style="fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="187.41594" x="580.55859" y="263.75751"/>
  </g>
  <g id="layer9" inkscape:groupmode="layer" inkscape:label="annot-5" style="display:none">
    <rect height="28.004681" id="rect1266" style="fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="225.11455" x="87.245354" y="100.03783"/>
    <rect height="28.004681" id="rect1268" style="fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="276.81549" x="480.388" y="100.03783"/>
    <rect height="29.081785" id="rect1270" style="fill:none;stroke:#000000;stroke-width:1;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="263.89026" x="86.168251" y="286.37668"/>
  </g>
  <g id="g1201" inkscape:groupmode="layer" inkscape:label="code/foldl-1" style="display:none" transform="translate(29.25785,-36.902435)">
    <svg height="195" width="378" x="-29.257849" xmlns="http://www.w3.org/2000/svg" y="249.92404">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> foldl′(step, xs; init)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> init</text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        acc <tspan fill="#666666">=</tspan> step(acc, x)</text>
<text x="0" xml:space="preserve" y="120">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="170"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="195"/></g></svg>
  </g>
  <g id="layer5" inkscape:groupmode="layer" inkscape:label="code/mapping_step-2" style="display:none" transform="translate(29.25785,-36.902435)">
    <svg height="95" width="378" x="364.29675" xmlns="http://www.w3.org/2000/svg" y="249.92404">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#408080" font-style="italic"># → equivalently:</tspan></text>
<text x="0" xml:space="preserve" y="45">mapping_step(f, step) <tspan fill="#666666">=</tspan></text>
<text x="0" xml:space="preserve" y="70">    (acc, x) <tspan fill="#666666">-</tspan><tspan fill="#666666">&gt;</tspan> step(acc, f(x))</text>
<text x="0" xml:space="preserve" y="95"/></g></svg>
  </g>
  <g id="layer4" inkscape:groupmode="layer" inkscape:label="code/mapping_step-1" style="display:none" transform="translate(29.25785,-36.902435)">
    <svg height="245" width="366" x="-29.257849" xmlns="http://www.w3.org/2000/svg" y="249.92404">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> mapping_step(f, step)</text>
<text x="0" xml:space="preserve" y="45"/>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">function</tspan> new_step(acc, x)</text>
<text x="0" xml:space="preserve" y="95">        acc <tspan fill="#666666">=</tspan> step(acc, f(x))</text>
<text x="0" xml:space="preserve" y="120">        <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="170"/>
<text x="0" xml:space="preserve" y="195">    <tspan fill="#008000" font-weight="bold">return</tspan> new_step</text>
<text x="0" xml:space="preserve" y="220"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="245"/></g></svg>
  </g>
  <g id="g891" inkscape:groupmode="layer" inkscape:label="code/sum-6" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="45" width="634" x="-29.257849" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20">sum′(f, xs) <tspan fill="#666666">=</tspan> foldl′(mapping_step(f, <tspan fill="#666666">+</tspan>), xs; init<tspan fill="#666666">=</tspan><tspan fill="#666666">0</tspan>)</text>
<text x="0" xml:space="preserve" y="45"/></g></svg>
  </g>
  <g id="g907" inkscape:groupmode="layer" inkscape:label="code/sum-5" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="220" width="353" x="-29.257849" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> sum′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> <tspan fill="#666666">0</tspan></text>
<text x="0" xml:space="preserve" y="70">    step <tspan fill="#666666">=</tspan> mapping_step(f, <tspan fill="#666666">+</tspan>)</text>
<text x="0" xml:space="preserve" y="95">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="120">        acc <tspan fill="#666666">=</tspan> step(acc, x)</text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="170">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="195"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220"/></g></svg>
  </g>
  <g id="g903" inkscape:groupmode="layer" inkscape:label="code/sum-4" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="220" width="317" x="-29.257849" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> sum′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> <tspan fill="#666666">0</tspan></text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        <tspan fill="#408080" font-style="italic"># loop body</tspan></text>
<text x="0" xml:space="preserve" y="120">        acc <tspan fill="#666666">=</tspan> <tspan fill="#666666">+</tspan>(acc, f(x))</text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="170">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="195"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220"/></g></svg>
  </g>
  <g id="g899" inkscape:groupmode="layer" inkscape:label="code/sum-3" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="220" width="244" x="-29.257849" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> sum′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> <tspan fill="#666666">0</tspan></text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        <tspan fill="#408080" font-style="italic"># loop body</tspan></text>
<text x="0" xml:space="preserve" y="120">        acc <tspan fill="#666666">+=</tspan> f(x)</text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="170">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="195"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220"/></g></svg>
  </g>
  <g id="g895" inkscape:groupmode="layer" inkscape:label="code/sum-2" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="195" width="317" x="-29.257849" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> sum′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> <tspan fill="#666666">0</tspan>  <tspan fill="#408080" font-style="italic"># accumulator</tspan></text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        acc <tspan fill="#666666">+=</tspan> f(x)</text>
<text x="0" xml:space="preserve" y="120">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="170"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="195"/></g></svg>
  </g>
  <g id="layer1" inkscape:groupmode="layer" inkscape:label="code/sum-1" style="display:inline" transform="translate(29.257849,-36.902435)">
    <svg height="195" width="244" x="-29.257849" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> sum′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    sum <tspan fill="#666666">=</tspan> <tspan fill="#666666">0</tspan></text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        sum <tspan fill="#666666">+=</tspan> f(x)</text>
<text x="0" xml:space="preserve" y="120">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">return</tspan> sum</text>
<text x="0" xml:space="preserve" y="170"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="195"/></g></svg>
  </g>
  <g id="g1033" inkscape:groupmode="layer" inkscape:label="code/map-6" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="45" width="695" x="364.29675" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20">map′(f, xs) <tspan fill="#666666">=</tspan> foldl′(mapping_step(f, push!), xs; init<tspan fill="#666666">=</tspan>[])</text>
<text x="0" xml:space="preserve" y="45"/></g></svg>
  </g>
  <g id="g879" inkscape:groupmode="layer" inkscape:label="code/map-5" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="220" width="402" x="364.29675" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> map′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> []</text>
<text x="0" xml:space="preserve" y="70">    step <tspan fill="#666666">=</tspan> mapping_step(f, push!)</text>
<text x="0" xml:space="preserve" y="95">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="120">        acc <tspan fill="#666666">=</tspan> step(acc, x)</text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="170">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="195"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220"/></g></svg>
  </g>
  <g id="g5782" inkscape:groupmode="layer" inkscape:label="code/map-4" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="220" width="366" x="364.29675" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> map′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> []</text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        <tspan fill="#408080" font-style="italic"># loop body</tspan></text>
<text x="0" xml:space="preserve" y="120">        acc <tspan fill="#666666">=</tspan> push!(acc, f(x))</text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="170">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="195"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220"/></g></svg>
  </g>
  <g id="g5778" inkscape:groupmode="layer" inkscape:label="code/map-3" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="220" width="292" x="364.29675" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> map′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> []</text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        <tspan fill="#408080" font-style="italic"># loop body</tspan></text>
<text x="0" xml:space="preserve" y="120">        push!(acc, f(x))</text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="170">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="195"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220"/></g></svg>
  </g>
  <g id="g5752" inkscape:groupmode="layer" inkscape:label="code/map-2" style="display:none" transform="translate(29.257849,-36.902435)">
    <svg height="195" width="329" x="364.29675" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> map′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> []  <tspan fill="#408080" font-style="italic"># accumulator</tspan></text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        push!(acc, f(x))</text>
<text x="0" xml:space="preserve" y="120">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="170"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="195"/></g></svg>
  </g>
  <g id="layer3" inkscape:groupmode="layer" inkscape:label="code/map-1" style="display:inline" transform="translate(29.257849,-36.902435)">
    <svg height="195" width="280" x="364.29675" xmlns="http://www.w3.org/2000/svg" y="36.902435">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> map′(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    ys <tspan fill="#666666">=</tspan> []</text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        push!(ys, f(x))</text>
<text x="0" xml:space="preserve" y="120">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="145">    <tspan fill="#008000" font-weight="bold">return</tspan> ys</text>
<text x="0" xml:space="preserve" y="170"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="195"/></g></svg>
  </g>
  <g id="layer2" inkscape:groupmode="layer" inkscape:label="grid" sodipodi:insensitive="true" style="display:none">
    <rect height="221.29167" id="rect49" style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="392.99997" x="393.5546" y="213.02161"/>
    <rect height="213.02161" id="rect47" style="fill:none;stroke:#000000;stroke-width:0.26458332;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="393.5546" x="2.6037597e-07" y="3.0273432e-07"/>
  </g>
</svg>