<?xml version="1.0" ?><!-- Created with Inkscape (http://www.inkscape.org/) --><svg height="345.00001" id="svg67" inkscape:version="0.92.4 5da689c313, 2019-01-14" sodipodi:docname="takewhile-annot.svg" version="1.1" viewBox="0 0 778.24835 345.00001" width="778.24835" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs61"/>
  <sodipodi:namedview bordercolor="#666666" borderopacity="1.0" fit-margin-bottom="0" fit-margin-left="0" fit-margin-right="0" fit-margin-top="0" id="base" inkscape:current-layer="g384" inkscape:cx="1351.1629" inkscape:cy="543.86201" inkscape:document-units="mm" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:window-height="1036" inkscape:window-maximized="0" inkscape:window-width="1246" inkscape:window-x="0" inkscape:window-y="20" inkscape:zoom="0.24748738" pagecolor="#ffffff" showgrid="false" showguides="false" units="px"/>
  <metadata id="metadata64">
    <rdf:RDF>
      <cc:Work rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>
        <dc:title/>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g id="g1914" inkscape:groupmode="layer" inkscape:label="annot-2" style="display:inline" transform="translate(0,-99.958803)">
    <rect height="52.384823" id="rect1910" style="fill:none;stroke:#000000;stroke-width:1.32291667;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="219.161" x="82.319016" y="224.93446"/>
    <rect height="58.79929" id="rect1912" style="fill:none;stroke:#000000;stroke-width:1.32291667;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="324.99973" x="450.08188" y="223.33086"/>
  </g>
  <g id="layer3" inkscape:groupmode="layer" inkscape:label="annot-1" style="display:none" transform="translate(0,-99.958803)">
    <rect height="52.384823" id="rect419" style="fill:none;stroke:#000000;stroke-width:1.32291667;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="219.161" x="82.319016" y="174.68779"/>
    <rect height="58.79929" id="rect419-3" style="fill:none;stroke:#000000;stroke-width:1.32291667;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" width="324.99973" x="450.08188" y="173.08418"/>
  </g>
  <g id="g1883" inkscape:groupmode="layer" inkscape:label="code/takingwhile-2" style="display:inline" transform="translate(0,0.1139673)">
    <svg height="445" width="463" x="315.24835" xmlns="http://www.w3.org/2000/svg" y="-0.1139673">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> takingwhile(f)</text>
<text x="0" xml:space="preserve" y="45">    <tspan fill="#008000" font-weight="bold">function</tspan> transducer(step)</text>
<text x="0" xml:space="preserve" y="70">        <tspan fill="#008000" font-weight="bold">function</tspan> new_step(acc, x)</text>
<text x="0" xml:space="preserve" y="95">            <tspan fill="#008000" font-weight="bold">if</tspan> f(x)</text>
<text x="0" xml:space="preserve" y="120">                <tspan fill="#008000" font-weight="bold">return</tspan> step(acc, f(x))</text>
<text x="0" xml:space="preserve" y="145">            <tspan fill="#008000" font-weight="bold">else</tspan></text>
<text x="0" xml:space="preserve" y="170">                <tspan fill="#008000" font-weight="bold">return</tspan> Reduced(acc)</text>
<text x="0" xml:space="preserve" y="195">            <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220">        <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="245">        <tspan fill="#008000" font-weight="bold">return</tspan> new_step</text>
<text x="0" xml:space="preserve" y="270">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="295">    <tspan fill="#008000" font-weight="bold">return</tspan> transducer</text>
<text x="0" xml:space="preserve" y="320"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="345"/>
<text x="0" xml:space="preserve" y="370"><tspan fill="#408080" font-style="italic"># equivalently:</tspan></text>
<text x="0" xml:space="preserve" y="395">takingwhile(f) <tspan fill="#666666">=</tspan> step <tspan fill="#666666">-</tspan><tspan fill="#666666">&gt;</tspan> (acc, x) <tspan fill="#666666">-</tspan><tspan fill="#666666">&gt;</tspan></text>
<text x="0" xml:space="preserve" y="420">    f(x) <tspan fill="#666666">?</tspan> step(acc, x) <tspan fill="#666666">:</tspan> Reduced(acc)</text>
<text x="0" xml:space="preserve" y="445"/></g></svg>
  </g>
  <g id="g384" inkscape:groupmode="layer" inkscape:label="code/takingwhile-1" style="display:none" transform="translate(0,0.1139673)">
    <svg height="345" width="463" x="315.24835" xmlns="http://www.w3.org/2000/svg" y="-0.1139673">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> takingwhile(f)</text>
<text x="0" xml:space="preserve" y="45">    <tspan fill="#008000" font-weight="bold">function</tspan> transducer(step)</text>
<text x="0" xml:space="preserve" y="70">        <tspan fill="#008000" font-weight="bold">function</tspan> new_step(acc, x)</text>
<text x="0" xml:space="preserve" y="95">            <tspan fill="#008000" font-weight="bold">if</tspan> f(x)</text>
<text x="0" xml:space="preserve" y="120">                <tspan fill="#008000" font-weight="bold">return</tspan> step(acc, f(x))</text>
<text x="0" xml:space="preserve" y="145">            <tspan fill="#008000" font-weight="bold">else</tspan></text>
<text x="0" xml:space="preserve" y="170">                <tspan fill="#408080" font-style="italic"># What to do here?</tspan></text>
<text x="0" xml:space="preserve" y="195">            <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220">        <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="245">        <tspan fill="#008000" font-weight="bold">return</tspan> new_step</text>
<text x="0" xml:space="preserve" y="270">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="295">    <tspan fill="#008000" font-weight="bold">return</tspan> transducer</text>
<text x="0" xml:space="preserve" y="320"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="345"/></g></svg>
  </g>
  <g id="layer1" inkscape:groupmode="layer" inkscape:label="code/takewhile-1" style="display:inline" transform="translate(0,0.1139673)">
    <svg height="295" width="305" xmlns="http://www.w3.org/2000/svg">
<g font-family="monospace" font-size="20px">
<text x="0" xml:space="preserve" y="20"><tspan fill="#008000" font-weight="bold">function</tspan> takewhile(f, xs)</text>
<text x="0" xml:space="preserve" y="45">    acc <tspan fill="#666666">=</tspan> []</text>
<text x="0" xml:space="preserve" y="70">    <tspan fill="#008000" font-weight="bold">for</tspan> x <tspan fill="#008000">in</tspan> xs</text>
<text x="0" xml:space="preserve" y="95">        <tspan fill="#008000" font-weight="bold">if</tspan> f(x)</text>
<text x="0" xml:space="preserve" y="120">            push!(acc, x)</text>
<text x="0" xml:space="preserve" y="145">        <tspan fill="#008000" font-weight="bold">else</tspan></text>
<text x="0" xml:space="preserve" y="170">            <tspan fill="#008000" font-weight="bold">break</tspan></text>
<text x="0" xml:space="preserve" y="195">        <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="220">    <tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="245">    <tspan fill="#008000" font-weight="bold">return</tspan> acc</text>
<text x="0" xml:space="preserve" y="270"><tspan fill="#008000" font-weight="bold">end</tspan></text>
<text x="0" xml:space="preserve" y="295"/></g></svg>
  </g>
  <g id="layer2" inkscape:groupmode="layer" inkscape:label="grid" sodipodi:insensitive="true" style="display:none" transform="translate(0,-99.958803)">
    <path d="M 8.3415456,95.444195 H 769.06206" id="path394" inkscape:connector-curvature="0" sodipodi:nodetypes="cc" style="fill:none;stroke:#000000;stroke-width:0.26458332px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" transform="translate(0,100.07277)"/>
  </g>
</svg>